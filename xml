<?xml version="1.0" encoding="UTF-8"?>
<!-- +======================================================================+ -->
<!-- |    Copyright (c) 2005, 2013 Oracle and/or its affiliates.           | -->
<!-- |                         All rights reserved.                         | -->
<!-- |                           Version 12.0.0                             | -->
<!-- +======================================================================+ -->
<!-- $Header: CSTRINVR_XML.xml 120.3.12020000.6 2013/12/27 08:42:53 yunfchen ship $ -->
<!-- dbdrv: exec java oracle/apps/xdo/oa/util XDOLoader.class java &phase=dat checkfile(120.1.12010000.8=120.3.12020000.6)(120.1.12010000.2=120.3):~PROD:patch/115/publisher/defs:CSTRINVR_XML.xml UPLOAD -DB_USERNAME &un_apps -DB_PASSWORD &pw_apps -JDBC_CONNECTION &jdbc_db_addr -LOB_TYPE DATA_TEMPLATE -APPS_SHORT_NAME ~PROD -LOB_CODE CSTRINVR_XML -LANGUAGE 00 -XDO_FILE_TYPE XML-DATA-TEMPLATE -FILE_NAME &fullpath:~PROD:patch/115/publisher/defs:CSTRINVR_XML.xml -->
<!-- GSCC_Category="Xdo Data Definition" -->
<dataTemplate name="CSTRINVR" defaultPackage="BOM_CSTRINVR_XMLP_PKG" version="1.0">
   <properties>
      <property name="xml_tag_case" value="upper"/>
   </properties>
   <parameters>
      <parameter name="P_ORG_ID" dataType="character"/>
      <parameter name="P_CURRENCY_CODE" dataType="character"/>
      <parameter name="P_SORT_OPTION" dataType="number" defaultValue="1"/>
      <parameter name="P_RPT_OPTION" dataType="number" defaultValue="1"/>
      <parameter name="P_ITEM_FROM" dataType="character"/>
      <parameter name="P_ITEM_TO" dataType="character"/>
      <parameter name="P_CATEGORY_SET" dataType="number" defaultValue="3"/>
      <parameter name="P_CAT_NUM" dataType="number" defaultValue="101"/>
      <parameter name="P_CAT_FROM" dataType="character"/>
      <parameter name="P_CAT_TO" dataType="character"/>
      <parameter name="P_SUBINV_FROM" dataType="character"/>
      <parameter name="P_SUBINV_TO" dataType="character"/>
      <parameter name="P_NEG_QTY" dataType="number"/>
      <parameter name="P_ZERO_COST" dataType="number"/>
      <parameter name="P_ITEM_WHERE" dataType="character" defaultValue="1 = 1"/>
      <parameter name="P_CAT_WHERE" dataType="character" defaultValue="1 = 1"/>
      <parameter name="P_GL_NUM" dataType="number" defaultValue="101"/>
      <parameter name="P_COST_TYPE_ID" dataType="number" defaultValue="1"/>
      <parameter name="P_QTY_WHERE" dataType="character"/>
      <parameter name="P_ZERO_QTY" dataType="number" defaultValue="2"/>
      <parameter name="P_ITEM_REVISION" dataType="number" defaultValue="2"/>
      <parameter name="P_EXP_ITEM" dataType="number" defaultValue="2"/>
      <parameter name="P_UNCOSTED_TXN" dataType="number" defaultValue="2"/>
      <parameter name="P_QTY_PRECISION" dataType="number" defaultValue="2"/>
      <parameter name="P_VIEW_COST" dataType="number" defaultValue="1"/>
      <parameter name="P_TRACE" dataType="character" defaultValue="N"/>
      <parameter name="P_EXCHANGE_RATE_CHAR" dataType="character"/>
      <parameter name="P_SUB_INV_MMT" dataType="character" defaultValue="1 = 1"/>
      <parameter name="P_SUB_INV_MOH" dataType="character" defaultValue="1 = 1"/>
      <parameter name="P_EXP_SUB" dataType="number"/>
   <parameter name="P_AS_OF_DATE" dataType="character"/> 
      <parameter name="P_TITLE" dataType="character"/>
   </parameters>
   <lexicals>
      <lexical name="SI_ITEM_SEGMENT" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MSTK" id_flex_num="101" segments="ALL" code_combination_table_alias="MSI" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
      <lexical name="SI_ITEM_PSEG" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MSTK" id_flex_num="101" segments="ALL" code_combination_table_alias="MSI" multiple_id_flex_num="N" show_parent_segments="Y" output_type="PADDED_VALUE"/>
      <lexical name="IC_CATEGORY_SEGMENT" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MCAT" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MC" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
      <lexical name="IC_CAT_PSEG" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MCAT" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MC" multiple_id_flex_num="N" show_parent_segments="Y" output_type="PADDED_VALUE"/>
      <lexical name="IC_ITEM_SEGMENT" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MSTK" id_flex_num="101" segments="ALL" code_combination_table_alias="MSI" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
      <lexical name="IC_ITEM_PSEG" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MSTK" id_flex_num="101" segments="ALL" code_combination_table_alias="MSI" multiple_id_flex_num="N" show_parent_segments="Y" output_type="PADDED_VALUE"/>
      <lexical name="SI_CAT_SEGMENT" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MCAT" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MC" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
      <lexical name="P_CAT_WHERE" type="oracle.apps.fnd.flex.kff.where" application_short_name="INV" id_flex_code="MCAT" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MC" operator="BETWEEN" operand1=":P_CAT_FROM" operand2=":P_CAT_TO"/>
      <lexical name="P_ITEM_WHERE" type="oracle.apps.fnd.flex.kff.where" application_short_name="INV" id_flex_code="MSTK" id_flex_num="101" segments="ALL" code_combination_table_alias="MSI" operator="BETWEEN" operand1=":P_ITEM_FROM" operand2=":P_ITEM_TO"/>
      <lexical name="P_CAT_SEG" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MCAT" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MC" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
      <lexical name="P_ITEM_SEG" type="oracle.apps.fnd.flex.kff.select" application_short_name="INV" id_flex_code="MSTK" id_flex_num=":P_CAT_NUM" segments="ALL" code_combination_table_alias="MSI" multiple_id_flex_num="N" show_parent_segments="Y" output_type="VALUE"/>
   </lexicals>
   <dataQuery>
      <sqlStatement name="Q_IC_MAIN">
         <![CDATA[SELECT  
	   MSI.description IC_DESCRIPTION
,      MSI.primary_uom_code IC_UOM
,      MSI.inventory_item_status_code IC_ITEM_STATUS
,      LU3.meaning IC_INV_ASSET
,      LU1.meaning IC_MAKE_BUY
,      decode(:P_SORT_OPTION,2,&IC_CATEGORY_SEGMENT,&IC_ITEM_SEGMENT) IC_ORDER
,      nvl(&IC_ITEM_PSEG,&P_ITEM_SEG) IC_ITEM_PSEG
,      nvl(&IC_CAT_PSEG,&P_CAT_SEG) IC_CAT_PSEG
,      nvl(&IC_ITEM_SEGMENT,&P_ITEM_SEG) IC_ITEM_SEGMENT
,      nvl(&IC_CATEGORY_SEGMENT,&P_CAT_SEG) IC_CATEGORY_SEGMENT
,      DECODE(MSI.inventory_planning_code
,           6, LU5.meaning, LU2.meaning) IC_PLANNING_METHOD
,      CIQT.subinventory_code IC_SUBINV
,      decode(CIQT.subinventory_code,NULL,'Intransit','On-hand') IC_TYPE
,      DECODE(:P_ITEM_REVISION, 1, CIQT.revision, NULL) IC_REVISION
,      SEC.description IC_SUBINV_DESC
,      SEC.asset_inventory IC_ASSET_SUBINV
,      NVL(LU4.meaning,'Yes') IC_ASSET_SUBINV_DSP
,      ROUND(sum(NVL(CIQT.rollback_qty,0)),:P_qty_precision) IC_QTY
,      DECODE(CICT.cost_type_id, :P_COST_TYPE_ID, ' ', '*') IC_DEFAULTED
,      ROUND(NVL(CICT.item_cost,0) * :P_EXCHANGE_RATE, :P_EXT_PRECISION)   IC_UNIT_COST       -- changed to round by extended precision
,      ROUND(sum(NVL(CIQT.rollback_qty,0) *
       DECODE(NVL(SEC.asset_inventory,1), 1, NVL(CICT.item_cost,0), 0) *
       :P_EXCHANGE_RATE  / :ROUND_UNIT))*:ROUND_UNIT   IC_TOTAL_COST
,      ROUND(sum(NVL(CIQT.rollback_qty,0) * DECODE(NVL(SEC.asset_inventory,1), 1, NVL(CICT.item_cost,0), 0) * :P_EXCHANGE_RATE) 
       / ROUND(sum(NVL(CIQT.rollback_qty,0)),:P_qty_precision), :P_EXT_PRECISION)   IC_UNIT_COST_1    -- changed to round by extended precision

		
FROM    mfg_lookups LU5
,       mfg_lookups LU4
,       mfg_lookups LU3
,       mfg_lookups LU2
,       mfg_lookups LU1
,       mtl_categories_b MC
,       mtl_system_items_vl MSI
,       mtl_secondary_inventories SEC
,       cst_inv_qty_temp CIQT
,       cst_inv_cost_temp  CICT
,       mtl_parameters MP
,       cst_item_costs CIC
WHERE   MSI.organization_id = CIQT.organization_id
AND     MSI.inventory_item_id = CIQT.inventory_item_id
AND     MP.organization_id = CIQT.organization_id
AND     CICT.organization_id = CIQT.organization_id 
and     CICT.inventory_item_id = CIQT.inventory_item_id 
and     (CICT.cost_group_id = CIQT.cost_group_id 
      OR MP.primary_cost_method = 1)
AND     &P_SUBINV_WHERE
AND     MC.category_id = CIQT.category_id
AND     LU1.lookup_type(+) = 'MTL_PLANNING_MAKE_BUY'
AND     LU1.lookup_code(+) = MSI.planning_make_buy_code
AND     LU2.lookup_type = 'MTL_MATERIAL_PLANNING'
AND     LU2.lookup_code = NVL(MSI.inventory_planning_code,6)
AND     LU3.lookup_type = 'SYS_YES_NO'
AND     LU3.lookup_code = CICT.inventory_asset_flag
AND     LU4.lookup_type(+) = 'SYS_YES_NO'
AND     LU4.lookup_code(+) = SEC.asset_inventory
AND     LU5.lookup_type = 'MRP_PLANNING_CODE'
AND     LU5.lookup_code = NVL(MSI.mrp_planning_code,6)
AND     CIC.organization_id = CIQT.organization_id
AND     CIC.inventory_item_id = CIQT.inventory_item_id
AND      CIC.cost_type_id = CICT.cost_type_id
AND     :P_SORT_OPTION IN (1,2)
group by  MSI.description
,         MSI.primary_uom_code
,         MSI.inventory_item_status_code
,         LU3.meaning
,         LU1.meaning
,         decode(:P_SORT_OPTION,2,&IC_CATEGORY_SEGMENT,&IC_ITEM_SEGMENT)
,         nvl(&IC_ITEM_PSEG,&P_ITEM_SEG)
,         nvl(&IC_CAT_PSEG,&P_CAT_SEG)
,         nvl(&IC_ITEM_SEGMENT,&P_ITEM_SEG)
,         nvl(&IC_CATEGORY_SEGMENT,&P_CAT_SEG)
,         DECODE(MSI.inventory_planning_code,
            6, LU5.meaning, LU2.meaning)
,         CIQT.subinventory_code
,         decode(CIQT.subinventory_code,NULL,'Intransit','On-hand')
,         DECODE(:P_ITEM_REVISION, 1, CIQT.revision, NULL)
,         SEC.description
,         SEC.asset_inventory
,         NVL(LU4.meaning,'Yes')
,         DECODE(CICT.cost_type_id, :P_COST_TYPE_ID, ' ', '*')
,         ROUND(NVL(CICT.item_cost,0) * :P_EXCHANGE_RATE, :P_EXT_PRECISION)
HAVING Decode(:P_NEG_QTY,1,1,2) =  Decode(:P_NEG_QTY,1,Decode(sign(Sum(CIQT.rollback_qty)),'-1',1,
                                                                                  2),2)
      and ROUND(sum(NVL(CIQT.rollback_qty,0)),:P_qty_precision) <> 0
order by 6,7,12,13
]]>
      </sqlStatement>
      <sqlStatement name="Q_SI_MAIN">
         <![CDATA[SELECT 
	   CIQT.subinventory_code SI_SUBINV
,      &P_ITEM_SEG  SI_ITEM
,      &P_CAT_SEG   SI_CATEGORY
,      SEC.DESCRIPTION                  SI_DESCRIPTION
,      SEC.ASSET_INVENTORY              SI_ASSET_INV
,      MSI.description SI_ITEM_DESC
,      MSI.primary_uom_code SI_UOM
,      DECODE(:P_ITEM_REVISION, 1, CIQT.revision, NULL) SI_REVISION
,      MSI.inventory_item_status_code SI_ITEM_STATUS
,      LU3.meaning SI_ASSET_INV_DSP
,      LU1.meaning SI_MAKE_BUY
,      DECODE(MSI.inventory_planning_code,
              6, LU4.meaning, LU2.meaning) SI_PLANNING_METHOD
,      ROUND(sum(CIQT.rollback_qty),:P_QTY_PRECISION) SI_QTY
,      ROUND((sum(NVL(CICT.item_cost,0)) * :P_EXCHANGE_RATE), :P_EXT_PRECISION)    SI_UNIT_COST    -- changed to round by extended precision
,      ROUND(sum(NVL(CIQT.rollback_qty,0) * DECODE(NVL(SEC.asset_inventory,1), 1, NVL(CICT.item_cost,0), 0) * :P_EXCHANGE_RATE) 
       / ROUND(sum(NVL(CIQT.rollback_qty,0)),:P_qty_precision), :P_EXT_PRECISION)    SI_UNIT_COST_1   -- calculated as value/qty
,      DECODE(CICT.cost_type_id, :P_COST_TYPE_ID, ' ', '*')   SI_DEFAULTED
,      round(sum(CIQT.rollback_qty * 
         NVL(CICT.material_cost,0) *
         DECODE(SEC.asset_inventory, 2, 0, 1) *
         :P_EXCHANGE_RATE) / :ROUND_UNIT) * :ROUND_UNIT   SI_MATL_COST
,      round(sum(CIQT.rollback_qty *
         NVL(CICT.material_overhead_cost,0) *
         DECODE(SEC.asset_inventory, 2, 0, 1) *
         :P_EXCHANGE_RATE) / :ROUND_UNIT) * :ROUND_UNIT   SI_MOVH_COST
,      round(sum(CIQT.rollback_qty *
         NVL(CICT.resource_cost,0) *
         DECODE(SEC.asset_inventory, 2, 0, 1) *
         :P_EXCHANGE_RATE) / :ROUND_UNIT) * :ROUND_UNIT   SI_RES_COST
,      round(sum(CIQT.rollback_qty *
         NVL(CICT.outside_processing_cost,0) *
         DECODE(SEC.asset_inventory, 2, 0, 1) *
         :P_EXCHANGE_RATE) / :ROUND_UNIT) * :ROUND_UNIT   SI_OSP_COST
,      round(sum(CIQT.rollback_qty *
         NVL(CICT.overhead_cost,0) *
         DECODE(SEC.asset_inventory, 2, 0, 1) *
         :P_EXCHANGE_RATE) / :ROUND_UNIT) * :ROUND_UNIT   SI_OVHD_COST
,      round(sum(NVL(CIQT.rollback_qty,0) *
       NVL(CICT.item_cost,0) * DECODE(SEC.asset_inventory,2,0,1) *
       :P_EXCHANGE_RATE) / :ROUND_UNIT)*:ROUND_UNIT      SI_TOTAL_COST
FROM    mfg_lookups LU1
,       mfg_lookups LU2
,       mfg_lookups LU3
,       mfg_lookups LU4
,       mtl_categories_b MC
,       mtl_system_items_vl MSI
,       mtl_secondary_inventories SEC
,       cst_inv_qty_temp CIQT
,       cst_inv_cost_temp CICT
,       mtl_parameters MP
,       cst_item_costs cic
WHERE   SEC.organization_id = CIQT.organization_id
AND     SEC.secondary_inventory_name = CIQT.subinventory_code
AND     MSI.organization_id = CIQT.organization_id
AND     MSI.inventory_item_id = CIQT.inventory_item_id
AND     MP.organization_id = CIQT.organization_id
AND     MC.category_id = CIQT.category_id
AND     CICT.organization_id = CIQT.organization_id 
AND     CICT.inventory_item_id = CIQT.inventory_item_id 
AND     (CICT.cost_group_id = CIQT.cost_group_id 
      OR MP.primary_cost_method = 1)
AND     LU1.lookup_type(+) = 'MTL_PLANNING_MAKE_BUY'
AND     LU1.lookup_code(+) = MSI.planning_make_buy_code
AND     LU2.lookup_type = 'MTL_MATERIAL_PLANNING'
AND     LU2.lookup_code = NVL(MSI.inventory_planning_code,6)
AND     LU3.lookup_type = 'SYS_YES_NO'
AND     LU3.lookup_code = CICT.inventory_asset_flag
AND     LU4.lookup_type = 'MRP_PLANNING_CODE'
AND     LU4.lookup_code = NVL(MSI.mrp_planning_code,6)
AND     CIC.organization_id = CIQT.organization_id
AND     CIC.inventory_item_id = CIQT.inventory_item_id
AND     CIC.cost_type_id   = CICT.cost_type_id 
AND     :P_SORT_OPTION  = 3
group by CIQT.subinventory_code
,      &P_ITEM_SEG
,      &P_CAT_SEG
,      MSI.description
,      MSI.primary_uom_code
,      DECODE(:P_ITEM_REVISION, 1, CIQT.revision, NULL)
,      MSI.inventory_item_status_code
,      LU3.meaning
,      LU1.meaning
,      DECODE(MSI.inventory_planning_code,
              6, LU4.meaning, LU2.meaning)
,      DECODE(CICT.cost_type_id, :P_COST_TYPE_ID, ' ', '*')
,      SEC.DESCRIPTION   
,      SEC.ASSET_INVENTORY 
HAVING Decode(&P_NEG_QTY,1,1,2) =  Decode(&P_NEG_QTY,1,Decode(sign(Sum(CIQT.rollback_qty)),'-1',1,
                                                                                     2),2)
       AND  ROUND(sum(CIQT.rollback_qty),:P_QTY_PRECISION) <> 0
ORDER BY SI_SUBINV, SI_ITEM
]]>
      </sqlStatement>
   </dataQuery>
   <dataTrigger name="afterParameterFormTrigger" source="BOM_CSTRINVR_XMLP_PKG.afterpform"/>
   <dataTrigger name="beforeReportTrigger" source="BOM_CSTRINVR_XMLP_PKG.beforereport"/>
   <dataStructure>
    <element name="P_DEF_COST_TYPE1" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.P_DEF_COST_TYPE"/>
    <element name="P_SORT_BY1" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.P_SORT_BY"/>
    <element name="P_COST_TYPE1" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.P_COST_TYPE"/>
    <element name="ROUND_UNIT" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.ROUND_UNIT"/>
    <element name="P_EXT_PRECISION" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.P_EXT_PREC"/>
    <element name="EXT_PRECISION" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.EXT_PRECISION"/>
    <element name="QTY_PRECISION" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.QTY_PRECISION"/>
    <element name="P_AS_OF_DATE1" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_AS_OF_DATE1"/>
    <element name="P_ORGANIZATION1" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_ORGANIZATION"/>
    <element name="P_REPORT_NAME1" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_REPORT_NAME"/>
    <element name="P_CAT_SET_NAME1" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_CAT_SET_NAME"/>
    <element name="P_DETAIL_LEVEL1" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_DETAIL_LEVEL"/>
    <element name="P_SUB_INV_SEC" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_SUB_INV_SEC"/>
    <element name="P_SUBINV_WHERE" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_SUBINV_WHERE"/>
    <element name="P_CURRENCY_DSP" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_CURRENCY_DSP"/>
    <element name="P_EXCHANGE_RATE" dataType="number" value="BOM_CSTRINVR_XMLP_PKG.P_EXCHANGE_RATE"/>
    <element name="P_CONC_REQUEST_ID" dataType="varchar2" value="BOM_CSTRINVR_XMLP_PKG.P_CONC_REQUEST_ID"/>
    <group name="G_IC_CAT" dataType="varchar2" source="Q_IC_MAIN">
         <element name="IC_ORDER" dataType="varchar2" value="IC_ORDER"/>
         <element name="IC_CAT_TOTAL_R" function="sum" dataType="number" value= "G_IC_SUBINV.IC_TOTAL"/>
         <element name="IC_CAT_TOTAL_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="IC_CAT_TOTAL_R" currencyCode="P_CURRENCY_CODE" width="19"/>
         <group name="G_IC_ITEM" dataType="varchar2" source="Q_IC_MAIN">
            <element name="IC_ITEM_PSEG" dataType="varchar2" value="IC_ITEM_PSEG"/>
            <element name="IC_CAT_PSEG" dataType="varchar2" value="IC_CAT_PSEG"/>
            <element name="IC_ITEM_NUMBER" dataType="varchar2" value="IC_ITEM_NUMBER"/>
            <element name="IC_DESCRIPTION" dataType="varchar2" value="IC_DESCRIPTION"/>
            <element name="IC_CATEGORY" dataType="varchar2" value="IC_CATEGORY"/>
            <element name="IC_ITEM_SEGMENT" dataType="varchar2" value="IC_ITEM_SEGMENT"/>
            <element name="IC_CATEGORY_SEGMENT" dataType="varchar2" value="IC_CATEGORY_SEGMENT"/>
			<element name="IC_UOM" dataType="varchar2" value="IC_UOM"/>
            <element name="IC_ITEM_STATUS" dataType="varchar2" value="IC_ITEM_STATUS"/>
            <element name="IC_INV_ASSET" dataType="varchar2" value="IC_INV_ASSET"/>
            <element name="IC_MAKE_BUY" dataType="varchar2" value="IC_MAKE_BUY"/>
            <element name="IC_PLANNING_METHOD" dataType="varchar2" value="IC_PLANNING_METHOD"/>
            <element name="IC_DEFAULTED" dataType="varchar2" value="IC_DEFAULTED"/>
            <element name="IC_ITEM_QTY" function="sum" dataType="number" value="G_IC_SUBINV.IC_QUANTITY"/>            
            <element name="IC_UNIT_COST_1" dataType="number" value="IC_UNIT_COST_1"/>
            <element name="IC_ITEM_TOTAL_R" function="sum" dataType="number" value="G_IC_SUBINV.IC_TOTAL"/>
			<element name="IC_ITEM_TOT_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="IC_ITEM_TOTAL_R" currencyCode="P_CURRENCY_CODE" width="19"/>
            <element name="IC_ITEM_RC" function="sum" dataType="number" value="G_IC_SUBINV.IC_ROWCOUNT"/>
            <group name="G_IC_SUBINV" dataType="varchar2" source="Q_IC_MAIN">
               <element name="IC_SUBINV" dataType="varchar2" value="IC_SUBINV"/>
               <element name="IC_TYPE" dataType="varchar2" value="IC_TYPE"/>
               <element name="IC_SUBINV_DESC" dataType="varchar2" value="IC_SUBINV_DESC"/>
               <element name="IC_ASSET_SUBINV" dataType="number" value="IC_ASSET_SUBINV"/>
               <element name="IC_ASSET_SUBINV_DSP" dataType="varchar2" value="IC_ASSET_SUBINV_DSP"/>
               <element name="IC_REVISION" dataType="varchar2" value="IC_REVISION"/>
               <element name="IC_QUANTITY" dataType="number" value="IC_QTY"/>
               <element name="IC_TOTAL" dataType="number" value="IC_TOTAL_COST"/>
               <element name="IC_TOTAL_R" dataType="number" value="IC_TOTAL_R"/>
               <element name="IC_TOTAL_COST_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="IC_TOTAL" currencyCode="P_CURRENCY_CODE" width="19"/>
               <element name="IC_ROWCOUNT" dataType="number" value="IC_ROWCOUNT"/>
            </group>
         </group>
      </group>
      <group name="G_SI_SUBINV" dataType="varchar2" source="Q_SI_MAIN">
         <element name="SI_SUBINV" dataType="varchar2" value="SI_SUBINV"/>
         <element name="SI_DESCRIPTION" dataType="varchar2" value="SI_DESCRIPTION"/>
         <element name="SI_ASSET_INV" dataType="number" value="SI_ASSET_INV"/>
         <element name="SI_ASSET_INV_DSP" dataType="varchar2" value="SI_ASSET_INV_DSP"/>
         <element name="SI_SI_RC" function="sum" dataType="number" value="G_SI_ITEM.SI_ROWCOUNT"/>
         <element name="SI_SI_MATL" function="sum" dataType="number" value="G_SI_ITEM.SI_MATL"/>
         <element name="SI_SI_MOVH" function="sum" dataType="number" value="G_SI_ITEM.SI_MOVH"/>
         <element name="SI_SI_RES" function="sum" dataType="number" value="G_SI_ITEM.SI_RES"/>
         <element name="SI_SI_OSP" function="sum" dataType="number" value="G_SI_ITEM.SI_OSP"/>
         <element name="SI_SI_OVHD" function="sum" dataType="number" value="G_SI_ITEM.SI_OVHD"/>
		 <element name="SI_SI_TOTAL" function="sum" dataType="number" value="G_SI_ITEM.SI_TOTAL"/>
         <element name="SI_SI_MATL_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_MATL_COST" currencyCode="P_CURRENCY_CODE" width="19"/>
         <element name="SI_SI_MOVH_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_MOVH_COST" currencyCode="P_CURRENCY_CODE" width="19"/>
         <element name="SI_SI_RES_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_RES_COST" currencyCode="P_CURRENCY_CODE" width="19"/>
         <element name="SI_SI_OSP_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_OSP_COST" currencyCode="P_CURRENCY_CODE" width="19"/>
         <element name="SI_SI_OVHD_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_OVHD_COST" currencyCode="P_CURRENCY_CODE" width="19"/>
         <element name="SI_SI_TOTAL_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_TOTAL_COST" currencyCode="P_CURRENCY_CODE" width="19"/>    
		 <group name="G_SI_ITEM" dataType="varchar2" source="Q_SI_MAIN">
            <element name="SI_ITEM_PSEG" dataType="varchar2" value="SI_ITEM_PSEG"/>
            <element name="SI_QOH_SUBINV" dataType="varchar2" value="SI_QOH_SUBINV"/>
            <element name="SI_ITEM_NUMBER" dataType="varchar2" value="SI_ITEM_NUMBER"/>
            <element name="SI_ITEM_DESC" dataType="varchar2" value="SI_ITEM_DESC"/>
            <element name="SI_REVISION" dataType="varchar2" value="SI_REVISION"/>
            <element name="SI_UOM" dataType="varchar2" value="SI_UOM"/>
            <element name="SI_CATEGORY" dataType="varchar2" value="SI_CATEGORY"/>
            <element name="SI_ITEM_STATUS" dataType="varchar2" value="SI_ITEM_STATUS"/>
            <element name="SI_INV_ASSET" dataType="varchar2" value="SI_INV_ASSET"/>
            <element name="SI_MAKE_BUY" dataType="varchar2" value="SI_MAKE_BUY"/>
            <element name="SI_PLANNING_METHOD" dataType="varchar2" value="SI_PLANNING_METHOD"/>
            <element name="SI_UNIT_COST" dataType="number" value="SI_UNIT_COST"/>
			<element name="SI_UNIT_COST_1" dataType="number" value="SI_UNIT_COST_1"/>
            <element name="SI_DEFAULTED" dataType="varchar2" value="SI_DEFAULTED"/>
            <element name="SI_ITEM_SEGMENT" dataType="varchar2" value="SI_ITEM"/>
            <element name="SI_CAT_SEGMENT" dataType="varchar2" value="SI_CATEGORY"/>
            <element name="SI_QUANTITY" dataType="number" value="SI_QTY"/>
            <element name="SI_MATL" dataType="number" value="SI_MATL_COST"/>
            <element name="SI_MOVH" dataType="number" value="SI_MOVH_COST"/>
            <element name="SI_RES" dataType="number" value="SI_RES_COST"/>
            <element name="SI_OSP" dataType="number" value="SI_OSP_COST"/>
            <element name="SI_OVHD" dataType="number" value="SI_OVHD_COST"/>
            <element name="SI_TOTAL" dataType="number" value="SI_TOTAL_COST"/>
            <element name="SI_TOTAL_COST_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_TOTAL" currencyCode="P_CURRENCY_CODE" width="19"/>              
        </group>
      </group>
      <element name="SI_DUMMY" function="sum" dataType="number" value="G_SI_ITEM.SI_ROWCOUNT"/>
      <element name="SI_REP_MATL_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_MATL" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_MATL" function="sum" dataType="number" value="G_SI_ITEM.SI_MATL1"/>
      <element name="SI_REP_MOVH" function="sum" dataType="number" value="G_SI_ITEM.SI_MOVH1"/>
      <element name="IC_REP_TOTAL" function="sum" dataType="number" value="G_IC_SUBINV.IC_TOTAL"/>
      <element name="IC_REPORT_TOT_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="IC_REP_TOTAL" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_RES" function="sum" dataType="number" value="G_SI_ITEM.SI_RES1"/>
      <element name="SI_REP_OVHD" function="sum" dataType="number" value="G_SI_ITEM.SI_OVHD1"/>
      <element name="SI_REP_MOVH_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_MOVH" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="IC_DUMMY" function="sum" dataType="number" value="G_IC_SUBINV.IC_ROWCOUNT"/>
      <element name="SI_REP_TOTAL" function="sum" dataType="number" value="G_SI_ITEM.SI_TOTAL"/>
      <element name="SI_REP_OSP_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_OSP" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_TOTAL_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_TOTAL" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_RES_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_RES" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_OVHD_DSP" function="CURRENCY_FORMAT" dataType="varchar2" value="SI_REP_OVHD" currencyCode="P_CURRENCY_CODE" width="19"/>
      <element name="SI_REP_OSP" function="sum" dataType="number" value="G_SI_ITEM.SI_OSP1"/>
   </dataStructure>
   <dataTrigger name="afterReportTrigger" source="BOM_CSTRINVR_XMLP_PKG.afterreport()"/>
</dataTemplate>
